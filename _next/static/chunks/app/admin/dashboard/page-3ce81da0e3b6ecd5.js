(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{64:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>_});var t=r(5155),a=r(2115),l=r(5695),i=r(6766),n=r(3168),o=r(4835),c=r(646),d=r(1243),u=r(1007),m=r(3717),g=r(9869),p=r(227),x=r(8175),h=r(883),f=r(2645),b=r(3904),y=r(4213);function v(e){let{userId:s,onUploadComplete:r,onError:l}=e,[i,n]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),d=(0,a.useRef)(null),u=async e=>{var s;if(e.preventDefault(),c(!1),!(null===(s=e.dataTransfer)||void 0===s?void 0:s.files)||0===e.dataTransfer.files.length)return;let r=e.dataTransfer.files[0];await x(r)},m=async e=>{if(!e.target.files||0===e.target.files.length)return;let s=e.target.files[0];await x(s)},x=async e=>{try{var t;n(!0);let a=(null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase())||"";if("mp3"!==a)throw Error("Only MP3 files are allowed");let l="song-".concat(e.name),i=new FormData;i.append("file",e),i.append("bucket","songs"),i.append("userId",s),i.append("fileName",l);let o=await fetch("/api/upload",{method:"POST",body:i});if(!o.ok){let e=await o.json();throw Error(e.details||"Upload failed")}let c=await o.json();if(!c.success)throw Error(c.error||"Upload failed");r()}catch(e){console.error("Error uploading song:",e),l("Error uploading song: ".concat(e.message))}finally{n(!1)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Profile Song"}),(0,t.jsxs)("div",{ref:d,onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:()=>{c(!1)},onDrop:u,className:"border ".concat(o?"border-yellow-500 bg-gray-800/50":"border-gray-700"," \n          p-4 rounded-md transition-colors relative"),children:[o&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-md z-10",children:(0,t.jsxs)("div",{className:"text-yellow-500 flex flex-col items-center",children:[(0,t.jsx)(g.A,{className:"h-8 w-8 mb-2"}),(0,t.jsx)("p",{children:"Drop to upload"})]})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center mb-3",children:[(0,t.jsx)(p.A,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Upload an MP3 file for this profile"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Drag & drop an MP3 file or select one below"}),(0,t.jsxs)("label",{className:"bg-yellow-600 hover:bg-yellow-500 text-black px-4 py-2 rounded cursor-pointer inline-block",children:[(0,t.jsx)("input",{type:"file",accept:".mp3,audio/mp3",className:"hidden",onChange:m,disabled:i}),i?"Uploading...":"Select MP3"]})]})]})]})}var w=r(4624),j=r(2085),N=r(2596),k=r(9688);let S=(0,j.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=a.forwardRef((e,s)=>{let{className:r,variant:a,size:l,asChild:i=!1,...n}=e,o=i?w.DX:"button";return(0,t.jsx)(o,{className:function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,k.QP)((0,N.$)(s))}(S({variant:a,size:l,className:r})),ref:s,...n})});function I(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(""),i=(0,n.ny)(),o=async()=>{try{s(!0),l("Setting up storage buckets and policies...");let{error:e}=await i.rpc("create_storage_buckets");if(e){console.error("Error creating buckets:",e),l("Error creating buckets: ".concat(e.message));return}let{error:r}=await i.rpc("create_storage_policies");if(r){console.error("Error creating policies:",r),l("Error creating policies: ".concat(r.message));return}let{data:t}=await i.storage.listBuckets();for(let e of t||[])if("profile-picture"===e.name||"backgrounds"===e.name||"songs"===e.name){let{error:s}=await i.storage.updateBucket(e.name,{public:!0});s&&console.error("Error updating bucket ".concat(e.name,":"),s)}l("Storage setup complete! Buckets and policies have been configured.")}catch(e){console.error("Error setting up storage:",e),l("Error: ".concat(e.message))}finally{s(!1)}};return(0,t.jsxs)("div",{className:"p-4 border border-gray-700 rounded-md",children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Storage Setup"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:"If you're having issues with uploads, run this setup to configure storage buckets and policies."}),(0,t.jsxs)(E,{onClick:o,disabled:e,className:"bg-purple-700 hover:bg-purple-600 text-white",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2 ".concat(e?"animate-pulse":"")}),e?"Setting up...":"Setup Storage Buckets"]}),r&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-800 rounded text-sm",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap",children:r})})]})}E.displayName="Button";let C=["mp4","mov","avi","wmv","flv","mkv","webm","m4v","3gp","mpeg","mpg","ogg"];function _(){let[e,s]=(0,a.useState)(null),[r,w]=(0,a.useState)(!0),[j,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[E,_]=(0,a.useState)(null),[U,A]=(0,a.useState)(!1),[D,z]=(0,a.useState)(""),[L,O]=(0,a.useState)(!1),[T,R]=(0,a.useState)(""),[P,M]=(0,a.useState)(""),[B,J]=(0,a.useState)(""),[F,W]=(0,a.useState)(null),[X,Y]=(0,a.useState)(null),[Z,Q]=(0,a.useState)(null),[V,G]=(0,a.useState)(null),[q,H]=(0,a.useState)(!1),[K,$]=(0,a.useState)(!1),[ee,es]=(0,a.useState)(null),[er,et]=(0,a.useState)(!1),ea=(0,a.useRef)(null),el=(0,a.useRef)(null),ei=(0,l.useRouter)(),en=(0,n.ny)();(0,a.useEffect)(()=>{(async()=>{try{w(!0);let{data:{user:r}}=await en.auth.getUser();if(!r){ei.push("/admin");return}let{data:t,error:a}=await en.from("profiles").select("*").eq("id",r.id);if(a)throw a;if(t&&t.length>0){let e=t[0];s(e),z(e.bio||""),R(e.twitter_url||""),M(e.twitch_url||""),J(e.steam_url||""),await eo(r.id)}else{var e;let t={id:r.id,username:(null===(e=r.email)||void 0===e?void 0:e.split("@")[0])||"batman",avatar_url:null,background_image:null,created_at:new Date().toISOString(),last_login:new Date().toISOString(),bio:null,is_admin:!1,twitter_url:null,twitch_url:null,github_url:null,steam_url:null},{error:a}=await en.from("profiles").insert([t]);a&&console.error("Error creating default profile:",a),s(t)}}catch(e){console.error("Error fetching data:",e),_({type:"error",message:"Failed to load profile data"})}finally{w(!1)}})()},[en,ei]),(0,a.useEffect)(()=>{let e=ea.current;if(!e)return;let s=e=>{e.preventDefault(),et(!0)},r=()=>{et(!1)},t=async e=>{var s;if(e.preventDefault(),et(!1),!(null===(s=e.dataTransfer)||void 0===s?void 0:s.files)||0===e.dataTransfer.files.length)return;let r=e.dataTransfer.files[0];await eg(r)};return e.addEventListener("dragover",s),e.addEventListener("dragleave",r),e.addEventListener("drop",t),()=>{e.removeEventListener("dragover",s),e.removeEventListener("dragleave",r),e.removeEventListener("drop",t)}},[e]);let eo=async e=>{try{H(!0);let s=await fetch("/api/user-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!s.ok)throw Error("Error fetching files: ".concat(s.statusText));let r=await s.json();if(r.success&&r.files){if(es(r.files),r.files["profile-picture"]&&r.files["profile-picture"].length>0){let e=r.files["profile-picture"].find(e=>e.name.startsWith("pic."));e&&W(e.publicUrl)}if(r.files.backgrounds&&r.files.backgrounds.length>0){let e=r.files.backgrounds.find(e=>e.name.startsWith("bg."));e&&Y(e.publicUrl)}if(r.files.songs&&r.files.songs.length>0){let e=r.files.songs.find(e=>e.name.startsWith("song-"));e&&(Q(e.publicUrl),G(e.name.replace(/^song-/,"")))}}}catch(e){console.error("Error fetching user files:",e),_({type:"error",message:"Failed to load user files"})}finally{H(!1)}},ec=async()=>{await en.auth.signOut(),ei.push("/admin")},ed=async e=>{try{if(!e.target.files||0===e.target.files.length)throw Error("You must select an image to upload.");let s=e.target.files[0];await eu(s)}catch(e){console.error("Error uploading avatar:",e),_({type:"error",message:"Error uploading avatar: ".concat(e.message)})}},eu=async s=>{try{var r;N(!0);let t=(null===(r=s.name.split(".").pop())||void 0===r?void 0:r.toLowerCase())||"";if(C.includes(t))throw Error("Video files are not allowed. Please select an image file.");let a="pic.".concat(t),l=new FormData;l.append("file",s),l.append("bucket","profile-picture"),l.append("userId",(null==e?void 0:e.id)||""),l.append("fileName",a);let i=await fetch("/api/upload",{method:"POST",body:l});if(!i.ok){let e=await i.json();throw Error(e.details||"Upload failed")}let n=await i.json();if(!n.success)throw Error(n.error||"Upload failed");e&&await eo(e.id),_({type:"success",message:"Profile picture updated successfully"})}catch(e){console.error("Error uploading avatar:",e),_({type:"error",message:"Error uploading avatar: ".concat(e.message)})}finally{N(!1)}},em=async e=>{try{if(!e.target.files||0===e.target.files.length)throw Error("You must select an image to upload.");let s=e.target.files[0];await eg(s)}catch(e){console.error("Error uploading background:",e),_({type:"error",message:"Error uploading background: ".concat(e.message)})}},eg=async s=>{try{var r;S(!0);let t=(null===(r=s.name.split(".").pop())||void 0===r?void 0:r.toLowerCase())||"";if(C.includes(t))throw Error("Video files are not allowed. Please select an image file.");let a="bg.".concat(t),l=new FormData;l.append("file",s),l.append("bucket","backgrounds"),l.append("userId",(null==e?void 0:e.id)||""),l.append("fileName",a);let i=await fetch("/api/upload",{method:"POST",body:l});if(!i.ok){let e=await i.json();throw Error(e.details||"Upload failed")}let n=await i.json();if(!n.success)throw Error(n.error||"Upload failed");e&&await eo(e.id),_({type:"success",message:"Background image updated successfully"})}catch(e){console.error("Error uploading background:",e),_({type:"error",message:"Error uploading background: ".concat(e.message)})}finally{S(!1)}},ep=async()=>{try{let{error:r}=await en.from("profiles").update({bio:D}).eq("id",null==e?void 0:e.id);if(r)throw r;s({...e,bio:D}),A(!1),_({type:"success",message:"Bio updated successfully"})}catch(e){console.error("Error updating bio:",e),_({type:"error",message:"Error updating bio: ".concat(e.message)})}},ex=async()=>{try{let{error:r}=await en.from("profiles").update({twitter_url:T||null,twitch_url:P||null,steam_url:B||null}).eq("id",null==e?void 0:e.id);if(r)throw r;s({...e,twitter_url:T||null,twitch_url:P||null,steam_url:B||null}),O(!1),_({type:"success",message:"Social links updated successfully"})}catch(e){console.error("Error updating social links:",e),_({type:"error",message:"Error updating social links: ".concat(e.message)})}},eh=async()=>{try{_({type:"success",message:"Refreshing files from storage..."}),e&&await eo(e.id),_({type:"success",message:"Files refreshed successfully"})}catch(e){console.error("Error refreshing files:",e),_({type:"error",message:"Error refreshing files: ".concat(e.message)})}},ef=async()=>{try{if(!(null==e?void 0:e.id))return;_({type:"success",message:"Deleting song..."});let{data:s,error:r}=await en.storage.from("songs").list(e.id);if(r)throw r;if(s&&s.length>0){let r=s.map(s=>"".concat(e.id,"/").concat(s.name)),{error:t}=await en.storage.from("songs").remove(r);if(t)throw t;await eo(e.id),Q(null),G(null),_({type:"success",message:"Song deleted successfully"})}else _({type:"error",message:"No songs found to delete"})}catch(e){console.error("Error deleting song:",e),_({type:"error",message:"Error deleting song: ".concat(e.message)})}};return r?(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"mt-4",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,t.jsx)("header",{className:"bg-gray-900 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("h1",{className:"text-xl font-bold",children:["BAT",(0,t.jsx)("span",{className:"text-yellow-500",children:"CONSOLE"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{ei.push("/desktop")},className:"bg-yellow-600 hover:bg-yellow-500 text-black px-3 py-1.5 rounded-md text-sm flex items-center",children:"Desktop"}),(0,t.jsxs)("button",{onClick:ec,className:"bg-gray-800 hover:bg-gray-700 text-white px-3 py-1.5 rounded-md text-sm flex items-center",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"Logout"]})]})]})}),E&&(0,t.jsx)("div",{className:"p-3 mx-auto max-w-4xl mt-4 rounded-md\n            ".concat("success"===E.type?"bg-green-900 border-l-4 border-green-500":"bg-red-900 border-l-4 border-red-500"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["success"===E.type?(0,t.jsx)(c.A,{className:"h-5 w-5 text-green-400 mr-2"}):(0,t.jsx)(d.A,{className:"h-5 w-5 text-red-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm",children:E.message}),(0,t.jsx)("button",{onClick:()=>_(null),className:"ml-auto text-gray-400 hover:text-white",children:"\xd7"})]})}),(0,t.jsx)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg shadow-lg overflow-hidden border border-gray-800",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Profile Management"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,t.jsx)("div",{className:"md:w-1/3",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden mb-4 bg-gray-800 border-2 border-yellow-500",children:F?(0,t.jsx)(i.default,{src:F||"/placeholder.svg",alt:(null==e?void 0:e.username)||"User",width:128,height:128,className:"object-cover w-full h-full",unoptimized:!0}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-16 w-16 text-gray-600"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:null==e?void 0:e.username}),(0,t.jsxs)("div",{className:"mt-4 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-400",children:"Bio"}),(0,t.jsx)("button",{onClick:()=>A(!U),className:"text-yellow-500 hover:text-yellow-400",children:(0,t.jsx)(m.A,{className:"h-4 w-4"})})]}),U?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("textarea",{value:D,onChange:e=>z(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-sm",rows:3}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)("button",{onClick:()=>A(!1),className:"px-3 py-1 text-sm bg-gray-800 hover:bg-gray-700 rounded",children:"Cancel"}),(0,t.jsx)("button",{onClick:ep,className:"px-3 py-1 text-sm bg-yellow-600 hover:bg-yellow-500 text-black rounded",children:"Save"})]})]}):(0,t.jsx)("p",{className:"text-sm text-gray-300 bg-gray-800 p-2 rounded min-h-[60px]",children:(null==e?void 0:e.bio)||"No bio provided"})]})]})}),(0,t.jsxs)("div",{className:"md:w-2/3 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Profile Picture"}),(0,t.jsx)("div",{className:"border border-gray-700 p-4 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Upload a new profile picture (any non-video file)"}),(0,t.jsxs)("label",{className:"bg-yellow-600 hover:bg-yellow-500 text-black px-4 py-2 rounded cursor-pointer inline-block",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:ed,disabled:j}),j?"Uploading...":"Select Image"]})]}),F&&(0,t.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:(0,t.jsx)(i.default,{src:F||"/placeholder.svg",alt:"Current avatar",width:64,height:64,className:"object-cover w-full h-full",unoptimized:!0})})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Background Image"}),(0,t.jsxs)("div",{ref:ea,className:"border ".concat(er?"border-yellow-500 bg-gray-800/50":"border-gray-700"," \n                      p-4 rounded-md transition-colors relative"),children:[er&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-md z-10",children:(0,t.jsxs)("div",{className:"text-yellow-500 flex flex-col items-center",children:[(0,t.jsx)(g.A,{className:"h-8 w-8 mb-2"}),(0,t.jsx)("p",{children:"Drop to upload"})]})}),(0,t.jsx)("div",{className:"mb-3",children:X?(0,t.jsx)("div",{className:"h-24 w-full rounded overflow-hidden",children:(0,t.jsx)(i.default,{src:X||"/placeholder.svg",alt:"Background",width:400,height:100,className:"object-cover w-full h-full",unoptimized:!0})}):(0,t.jsx)("div",{className:"h-24 w-full bg-gray-800 rounded flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No background image"})})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Upload a new background image (drag & drop or select a file)"}),(0,t.jsxs)("label",{className:"bg-yellow-600 hover:bg-yellow-500 text-black px-4 py-2 rounded cursor-pointer inline-block",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:em,disabled:k}),k?"Uploading...":"Select Image"]})]})]}),(0,t.jsx)(v,{userId:(null==e?void 0:e.id)||"",onUploadComplete:()=>{_({type:"success",message:"Song uploaded successfully"}),e&&eo(e.id)},onError:e=>{_({type:"error",message:e})}}),Z&&(0,t.jsx)("div",{className:"border border-gray-700 p-4 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p.A,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Current Song"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:V||"Unknown"})]})]}),(0,t.jsx)("button",{onClick:ef,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Delete"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-md font-semibold",children:"Social Media"}),(0,t.jsx)("button",{onClick:()=>O(!L),className:"text-yellow-500 hover:text-yellow-400",children:(0,t.jsx)(m.A,{className:"h-4 w-4"})})]}),L?(0,t.jsxs)("div",{className:"border border-gray-700 p-4 rounded-md space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Twitter URL"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-blue-400 mr-2"}),(0,t.jsx)("input",{type:"text",value:T,onChange:e=>R(e.target.value),placeholder:"https://twitter.com/username",className:"flex-1 bg-gray-800 border border-gray-700 rounded p-2 text-sm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Twitch URL"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 text-purple-400 mr-2"}),(0,t.jsx)("input",{type:"text",value:P,onChange:e=>M(e.target.value),placeholder:"https://twitch.tv/username",className:"flex-1 bg-gray-800 border border-gray-700 rounded p-2 text-sm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Steam URL"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsx)("input",{type:"text",value:B,onChange:e=>J(e.target.value),placeholder:"https://steamcommunity.com/id/username",className:"flex-1 bg-gray-800 border border-gray-700 rounded p-2 text-sm"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)("button",{onClick:()=>O(!1),className:"px-3 py-1 text-sm bg-gray-800 hover:bg-gray-700 rounded",children:"Cancel"}),(0,t.jsx)("button",{onClick:ex,className:"px-3 py-1 text-sm bg-yellow-600 hover:bg-yellow-500 text-black rounded",children:"Save"})]})]}):(0,t.jsxs)("div",{className:"border border-gray-700 p-4 rounded-md space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-blue-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:T||"No Twitter link"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 text-purple-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:P||"No Twitch link"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:B||"No Steam link"})]})]})]})]})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("button",{onClick:eh,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm flex items-center",disabled:q,children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),q?"Refreshing...":"Refresh Files"]})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("button",{onClick:()=>$(!0),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-md text-sm flex items-center",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Setup Storage"]})})]})})}),K&&(0,t.jsx)(I,{onClose:()=>$(!1)}),Z&&(0,t.jsx)("div",{className:"fixed bottom-0 left-0 w-full bg-gray-900 p-4 border-t border-gray-800",children:(0,t.jsx)("audio",{controls:!0,ref:el,src:Z,className:"w-full"})})]})}},823:(e,s,r)=>{Promise.resolve().then(r.bind(r,64))},3168:(e,s,r)=>{"use strict";r.d(s,{ny:()=>l});var t=r(851);r(9509),(0,t.UU)("https://cgggsudeipsyfcszouil.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ2dzdWRlaXBzeWZjc3pvdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4NTAzMDQsImV4cCI6MjA2MDQyNjMwNH0.rKNpG-VLYRYW5L9E3N0vWN_6mFzgNsafXxuI-bxrww4");let a=null;function l(){return a||(a=(0,t.UU)("https://cgggsudeipsyfcszouil.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ2dzdWRlaXBzeWZjc3pvdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4NTAzMDQsImV4cCI6MjA2MDQyNjMwNH0.rKNpG-VLYRYW5L9E3N0vWN_6mFzgNsafXxuI-bxrww4",{auth:{persistSession:!0,autoRefreshToken:!0}})),a}}},e=>{var s=s=>e(e.s=s);e.O(0,[294,829,721,441,684,358],()=>s(823)),_N_E=e.O()}]);