(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{64:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>_});var t=r(5155),a=r(2115),l=r(5695),i=r(6766),o=r(3168),n=r(4835),c=r(646),d=r(1243),u=r(1007),m=r(3717),g=r(9869),p=r(227),x=r(8175),h=r(883),f=r(2645),b=r(3904),y=r(4213);function v(e){let{userId:s,onUploadComplete:r,onError:l}=e,[i,o]=(0,a.useState)(!1),[n,c]=(0,a.useState)(!1),d=(0,a.useRef)(null),u=async e=>{var s;if(e.preventDefault(),c(!1),!(null===(s=e.dataTransfer)||void 0===s?void 0:s.files)||0===e.dataTransfer.files.length)return;let r=e.dataTransfer.files[0];await x(r)},m=async e=>{if(!e.target.files||0===e.target.files.length)return;let s=e.target.files[0];await x(s)},x=async e=>{try{var t;o(!0);let a=(null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase())||"";if("mp3"!==a)throw Error("Only MP3 files are allowed");let l="song-".concat(e.name),i=new FormData;i.append("file",e),i.append("bucket","songs"),i.append("userId",s),i.append("fileName",l);let n=await fetch("/api/upload",{method:"POST",body:i});if(!n.ok){let e=await n.json();throw Error(e.details||"Upload failed")}let c=await n.json();if(!c.success)throw Error(c.error||"Upload failed");r()}catch(e){console.error("Error uploading song:",e),l("Error uploading song: ".concat(e.message))}finally{o(!1)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Profile Song"}),(0,t.jsxs)("div",{ref:d,onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:()=>{c(!1)},onDrop:u,className:"border ".concat(n?"border-yellow-500 bg-gray-800/50":"border-gray-700"," \n          p-4 rounded-md transition-colors relative"),children:[n&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-md z-10",children:(0,t.jsxs)("div",{className:"text-yellow-500 flex flex-col items-center",children:[(0,t.jsx)(g.A,{className:"h-8 w-8 mb-2"}),(0,t.jsx)("p",{children:"Drop to upload"})]})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center mb-3",children:[(0,t.jsx)(p.A,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Upload an MP3 file for this profile"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Drag & drop an MP3 file or select one below"}),(0,t.jsxs)("label",{className:"bg-yellow-600 hover:bg-yellow-500 text-black px-4 py-2 rounded cursor-pointer inline-block",children:[(0,t.jsx)("input",{type:"file",accept:".mp3,audio/mp3",className:"hidden",onChange:m,disabled:i}),i?"Uploading...":"Select MP3"]})]})]})]})}var w=r(4624),j=r(2085),N=r(2596),k=r(9688);let E=(0,j.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=a.forwardRef((e,s)=>{let{className:r,variant:a,size:l,asChild:i=!1,...o}=e,n=i?w.DX:"button";return(0,t.jsx)(n,{className:function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,k.QP)((0,N.$)(s))}(E({variant:a,size:l,className:r})),ref:s,...o})});function I(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(""),i=(0,o.ny)(),n=async()=>{try{s(!0),l("Setting up storage buckets and policies...");let{error:e}=await i.rpc("create_storage_buckets");if(e){console.error("Error creating buckets:",e),l("Error creating buckets: ".concat(e.message));return}let{error:r}=await i.rpc("create_storage_policies");if(r){console.error("Error creating policies:",r),l("Error creating policies: ".concat(r.message));return}let{data:t}=await i.storage.listBuckets();for(let e of t||[])if("profile-picture"===e.name||"backgrounds"===e.name||"songs"===e.name||"descriptions"===e.name){let{error:s}=await i.storage.updateBucket(e.name,{public:!0});s&&console.error("Error updating bucket ".concat(e.name,":"),s)}try{let{error:e}=await i.storage.createBucket("descriptions",{public:!0});e&&!e.message.includes("already exists")?(console.error("Error creating descriptions bucket:",e),l("Error creating descriptions bucket: ".concat(e.message))):l(e=>e+"\nDescriptions bucket created or already exists")}catch(e){console.error("Error creating descriptions bucket:",e),l("Error creating descriptions bucket: ".concat(e.message))}try{let{error:e}=await i.rpc("create_storage_policies");e?(console.error("Error setting up storage policies:",e),l("Error setting up storage policies: ".concat(e.message))):l(e=>e+"\nStorage policies set up successfully")}catch(e){console.error("Error setting up storage policies:",e),l("Error setting up storage policies: ".concat(e.message))}l("Storage setup complete! Buckets and policies have been configured.")}catch(e){console.error("Error setting up storage:",e),l("Error: ".concat(e.message))}finally{s(!1)}};return(0,t.jsxs)("div",{className:"p-4 border border-gray-700 rounded-md",children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Storage Setup"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:"If you're having issues with uploads, run this setup to configure storage buckets and policies."}),(0,t.jsxs)(S,{onClick:n,disabled:e,className:"bg-purple-700 hover:bg-purple-600 text-white",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2 ".concat(e?"animate-pulse":"")}),e?"Setting up...":"Setup Storage Buckets"]}),r&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-800 rounded text-sm",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap",children:r})})]})}S.displayName="Button";let C=["mp4","mov","avi","wmv","flv","mkv","webm","m4v","3gp","mpeg","mpg","ogg"];function _(){let[e,s]=(0,a.useState)(null),[w,j]=(0,a.useState)(!0),[N,k]=(0,a.useState)(!1),[E,S]=(0,a.useState)(!1),[_,U]=(0,a.useState)(null),[D,A]=(0,a.useState)(!1),[z,L]=(0,a.useState)(""),[O,T]=(0,a.useState)(!1),[B,R]=(0,a.useState)(""),[M,P]=(0,a.useState)(""),[F,J]=(0,a.useState)(""),[W,X]=(0,a.useState)(null),[Y,Z]=(0,a.useState)(null),[Q,V]=(0,a.useState)(null),[G,q]=(0,a.useState)(null),[H,K]=(0,a.useState)(!1),[$,ee]=(0,a.useState)(!1),[es,er]=(0,a.useState)(null),[et,ea]=(0,a.useState)(!1),el=(0,a.useRef)(null),ei=(0,a.useRef)(null),eo=(0,l.useRouter)(),en=(0,o.ny)();(0,a.useEffect)(()=>{(async()=>{try{j(!0);let{data:{user:r}}=await en.auth.getUser();if(!r){eo.push("/admin");return}let{data:t,error:a}=await en.from("profiles").select("*").eq("id",r.id);if(a)throw a;if(t&&t.length>0){let e=t[0];s(e),L(e.bio||""),R(e.twitter_url||""),P(e.twitch_url||""),J(e.steam_url||""),await ec(r.id)}else{var e;let t={id:r.id,username:(null===(e=r.email)||void 0===e?void 0:e.split("@")[0])||"batman",avatar_url:null,background_image:null,created_at:new Date().toISOString(),last_login:new Date().toISOString(),bio:null,is_admin:!1,twitter_url:null,twitch_url:null,github_url:null,steam_url:null},{error:a}=await en.from("profiles").insert([t]);a&&console.error("Error creating default profile:",a),s(t)}}catch(e){console.error("Error fetching data:",e),U({type:"error",message:"Failed to load profile data"})}finally{j(!1)}})()},[en,eo]),(0,a.useEffect)(()=>{let e=el.current;if(!e)return;let s=e=>{e.preventDefault(),ea(!0)},r=()=>{ea(!1)},t=async e=>{var s;if(e.preventDefault(),ea(!1),!(null===(s=e.dataTransfer)||void 0===s?void 0:s.files)||0===e.dataTransfer.files.length)return;let r=e.dataTransfer.files[0];await ep(r)};return e.addEventListener("dragover",s),e.addEventListener("dragleave",r),e.addEventListener("drop",t),()=>{e.removeEventListener("dragover",s),e.removeEventListener("dragleave",r),e.removeEventListener("drop",t)}},[e]);let ec=async e=>{try{K(!0);let s=await fetch("/api/user-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!s.ok)throw Error("Error fetching files: ".concat(s.statusText));let r=await s.json();if(r.success&&r.files){if(er(r.files),r.files["profile-picture"]&&r.files["profile-picture"].length>0){let e=r.files["profile-picture"].find(e=>e.name.startsWith("pic."));e&&X(e.publicUrl)}if(r.files.backgrounds&&r.files.backgrounds.length>0){let e=r.files.backgrounds.find(e=>e.name.startsWith("bg."));e&&Z(e.publicUrl)}if(r.files.songs&&r.files.songs.length>0){let e=r.files.songs.find(e=>e.name.startsWith("song-"));e&&(V(e.publicUrl),q(e.name.replace(/^song-/,"")))}}}catch(e){console.error("Error fetching user files:",e),U({type:"error",message:"Failed to load user files"})}finally{K(!1)}},ed=async()=>{await en.auth.signOut(),eo.push("/admin")},eu=async e=>{try{if(!e.target.files||0===e.target.files.length)throw Error("You must select an image to upload.");let s=e.target.files[0];await em(s)}catch(e){console.error("Error uploading avatar:",e),U({type:"error",message:"Error uploading avatar: ".concat(e.message)})}},em=async s=>{try{var r;k(!0);let t=(null===(r=s.name.split(".").pop())||void 0===r?void 0:r.toLowerCase())||"";if(C.includes(t))throw Error("Video files are not allowed. Please select an image file.");let a="pic.".concat(t),l=new FormData;l.append("file",s),l.append("bucket","profile-picture"),l.append("userId",(null==e?void 0:e.id)||""),l.append("fileName",a);let i=await fetch("/api/upload",{method:"POST",body:l});if(!i.ok){let e=await i.json();throw Error(e.details||"Upload failed")}let o=await i.json();if(!o.success)throw Error(o.error||"Upload failed");e&&await ec(e.id),U({type:"success",message:"Profile picture updated successfully"})}catch(e){console.error("Error uploading avatar:",e),U({type:"error",message:"Error uploading avatar: ".concat(e.message)})}finally{k(!1)}},eg=async e=>{try{if(!e.target.files||0===e.target.files.length)throw Error("You must select an image to upload.");let s=e.target.files[0];await ep(s)}catch(e){console.error("Error uploading background:",e),U({type:"error",message:"Error uploading background: ".concat(e.message)})}},ep=async s=>{try{var r;S(!0);let t=(null===(r=s.name.split(".").pop())||void 0===r?void 0:r.toLowerCase())||"";if(C.includes(t))throw Error("Video files are not allowed. Please select an image file.");let a="bg.".concat(t),l=new FormData;l.append("file",s),l.append("bucket","backgrounds"),l.append("userId",(null==e?void 0:e.id)||""),l.append("fileName",a);let i=await fetch("/api/upload",{method:"POST",body:l});if(!i.ok){let e=await i.json();throw Error(e.details||"Upload failed")}let o=await i.json();if(!o.success)throw Error(o.error||"Upload failed");e&&await ec(e.id),U({type:"success",message:"Background image updated successfully"})}catch(e){console.error("Error uploading background:",e),U({type:"error",message:"Error uploading background: ".concat(e.message)})}finally{S(!1)}},ex=async()=>{try{let{error:t}=await en.from("profiles").update({bio:z}).eq("id",null==e?void 0:e.id);if(t)throw t;if(s({...e,bio:z}),null==e?void 0:e.id)try{U({type:"success",message:"Bio saved to profile. Saving to storage..."});let{saveTextToStorage:s}=await r.e(98).then(r.bind(r,98)),t=await s(e.id,z,"bio.txt","descriptions");if(!t.success)throw Error(t.error||"Failed to save bio to storage");U({type:"success",message:"Bio updated successfully and saved to storage"})}catch(e){console.error("Error saving bio to storage:",e),U({type:"error",message:"Bio saved to profile but failed to save to storage: ".concat(e.message)})}A(!1)}catch(e){console.error("Error updating bio:",e),U({type:"error",message:"Error updating bio: ".concat(e.message)})}},eh=async()=>{try{let{error:r}=await en.from("profiles").update({twitter_url:B||null,twitch_url:M||null,steam_url:F||null}).eq("id",null==e?void 0:e.id);if(r)throw r;s({...e,twitter_url:B||null,twitch_url:M||null,steam_url:F||null}),T(!1),U({type:"success",message:"Social links updated successfully"})}catch(e){console.error("Error updating social links:",e),U({type:"error",message:"Error updating social links: ".concat(e.message)})}},ef=async()=>{try{U({type:"success",message:"Refreshing files from storage..."}),e&&await ec(e.id),U({type:"success",message:"Files refreshed successfully"})}catch(e){console.error("Error refreshing files:",e),U({type:"error",message:"Error refreshing files: ".concat(e.message)})}},eb=async()=>{try{if(!(null==e?void 0:e.id))return;U({type:"success",message:"Deleting song..."});let{data:s,error:r}=await en.storage.from("songs").list(e.id);if(r)throw r;if(s&&s.length>0){let r=s.map(s=>"".concat(e.id,"/").concat(s.name)),{error:t}=await en.storage.from("songs").remove(r);if(t)throw t;await ec(e.id),V(null),q(null),U({type:"success",message:"Song deleted successfully"})}else U({type:"error",message:"No songs found to delete"})}catch(e){console.error("Error deleting song:",e),U({type:"error",message:"Error deleting song: ".concat(e.message)})}};return w?(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"mt-4",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,t.jsx)("header",{className:"bg-gray-900 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("h1",{className:"text-xl font-bold",children:["BAT",(0,t.jsx)("span",{className:"text-yellow-500",children:"CONSOLE"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{eo.push("/desktop")},className:"bg-yellow-600 hover:bg-yellow-500 text-black px-3 py-1.5 rounded-md text-sm flex items-center",children:"Desktop"}),(0,t.jsxs)("button",{onClick:ed,className:"bg-gray-800 hover:bg-gray-700 text-white px-3 py-1.5 rounded-md text-sm flex items-center",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Logout"]})]})]})}),_&&(0,t.jsx)("div",{className:"p-3 mx-auto max-w-4xl mt-4 rounded-md\n            ".concat("success"===_.type?"bg-green-900 border-l-4 border-green-500":"bg-red-900 border-l-4 border-red-500"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["success"===_.type?(0,t.jsx)(c.A,{className:"h-5 w-5 text-green-400 mr-2"}):(0,t.jsx)(d.A,{className:"h-5 w-5 text-red-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm",children:_.message}),(0,t.jsx)("button",{onClick:()=>U(null),className:"ml-auto text-gray-400 hover:text-white",children:"\xd7"})]})}),(0,t.jsx)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg shadow-lg overflow-hidden border border-gray-800",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Profile Management"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,t.jsx)("div",{className:"md:w-1/3",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden mb-4 bg-gray-800 border-2 border-yellow-500",children:W?(0,t.jsx)(i.default,{src:W||"/placeholder.svg",alt:(null==e?void 0:e.username)||"User",width:128,height:128,className:"object-cover w-full h-full",unoptimized:!0}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-16 w-16 text-gray-600"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:null==e?void 0:e.username}),(0,t.jsxs)("div",{className:"mt-4 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-400",children:"Bio"}),(0,t.jsx)("button",{onClick:()=>A(!D),className:"text-yellow-500 hover:text-yellow-400",children:(0,t.jsx)(m.A,{className:"h-4 w-4"})})]}),D?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("textarea",{value:z,onChange:e=>L(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-sm",rows:3}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)("button",{onClick:()=>A(!1),className:"px-3 py-1 text-sm bg-gray-800 hover:bg-gray-700 rounded",children:"Cancel"}),(0,t.jsx)("button",{onClick:ex,className:"px-3 py-1 text-sm bg-yellow-600 hover:bg-yellow-500 text-black rounded",children:"Save"})]})]}):(0,t.jsx)("p",{className:"text-sm text-gray-300 bg-gray-800 p-2 rounded min-h-[60px]",children:(null==e?void 0:e.bio)||"No bio provided"})]})]})}),(0,t.jsxs)("div",{className:"md:w-2/3 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Profile Picture"}),(0,t.jsx)("div",{className:"border border-gray-700 p-4 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Upload a new profile picture (any non-video file)"}),(0,t.jsxs)("label",{className:"bg-yellow-600 hover:bg-yellow-500 text-black px-4 py-2 rounded cursor-pointer inline-block",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:eu,disabled:N}),N?"Uploading...":"Select Image"]})]}),W&&(0,t.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:(0,t.jsx)(i.default,{src:W||"/placeholder.svg",alt:"Current avatar",width:64,height:64,className:"object-cover w-full h-full",unoptimized:!0})})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-md font-semibold mb-3",children:"Background Image"}),(0,t.jsxs)("div",{ref:el,className:"border ".concat(et?"border-yellow-500 bg-gray-800/50":"border-gray-700"," \n                      p-4 rounded-md transition-colors relative"),children:[et&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-md z-10",children:(0,t.jsxs)("div",{className:"text-yellow-500 flex flex-col items-center",children:[(0,t.jsx)(g.A,{className:"h-8 w-8 mb-2"}),(0,t.jsx)("p",{children:"Drop to upload"})]})}),(0,t.jsx)("div",{className:"mb-3",children:Y?(0,t.jsx)("div",{className:"h-24 w-full rounded overflow-hidden",children:(0,t.jsx)(i.default,{src:Y||"/placeholder.svg",alt:"Background",width:400,height:100,className:"object-cover w-full h-full",unoptimized:!0})}):(0,t.jsx)("div",{className:"h-24 w-full bg-gray-800 rounded flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No background image"})})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Upload a new background image (drag & drop or select a file)"}),(0,t.jsxs)("label",{className:"bg-yellow-600 hover:bg-yellow-500 text-black px-4 py-2 rounded cursor-pointer inline-block",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:eg,disabled:E}),E?"Uploading...":"Select Image"]})]})]}),(0,t.jsx)(v,{userId:(null==e?void 0:e.id)||"",onUploadComplete:()=>{U({type:"success",message:"Song uploaded successfully"}),e&&ec(e.id)},onError:e=>{U({type:"error",message:e})}}),Q&&(0,t.jsx)("div",{className:"border border-gray-700 p-4 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p.A,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Current Song"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:G||"Unknown"})]})]}),(0,t.jsx)("button",{onClick:eb,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Delete"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-md font-semibold",children:"Social Media"}),(0,t.jsx)("button",{onClick:()=>T(!O),className:"text-yellow-500 hover:text-yellow-400",children:(0,t.jsx)(m.A,{className:"h-4 w-4"})})]}),O?(0,t.jsxs)("div",{className:"border border-gray-700 p-4 rounded-md space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Twitter URL"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-blue-400 mr-2"}),(0,t.jsx)("input",{type:"text",value:B,onChange:e=>R(e.target.value),placeholder:"https://twitter.com/username",className:"flex-1 bg-gray-800 border border-gray-700 rounded p-2 text-sm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Twitch URL"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 text-purple-400 mr-2"}),(0,t.jsx)("input",{type:"text",value:M,onChange:e=>P(e.target.value),placeholder:"https://twitch.tv/username",className:"flex-1 bg-gray-800 border border-gray-700 rounded p-2 text-sm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Steam URL"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsx)("input",{type:"text",value:F,onChange:e=>J(e.target.value),placeholder:"https://steamcommunity.com/id/username",className:"flex-1 bg-gray-800 border border-gray-700 rounded p-2 text-sm"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)("button",{onClick:()=>T(!1),className:"px-3 py-1 text-sm bg-gray-800 hover:bg-gray-700 rounded",children:"Cancel"}),(0,t.jsx)("button",{onClick:eh,className:"px-3 py-1 text-sm bg-yellow-600 hover:bg-yellow-500 text-black rounded",children:"Save"})]})]}):(0,t.jsxs)("div",{className:"border border-gray-700 p-4 rounded-md space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-blue-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:B||"No Twitter link"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 text-purple-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:M||"No Twitch link"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:F||"No Steam link"})]})]})]})]})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("button",{onClick:ef,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm flex items-center",disabled:H,children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),H?"Refreshing...":"Refresh Files"]})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("button",{onClick:()=>ee(!0),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-md text-sm flex items-center",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Setup Storage"]})})]})})}),$&&(0,t.jsx)(I,{onClose:()=>ee(!1)}),Q&&(0,t.jsx)("div",{className:"fixed bottom-0 left-0 w-full bg-gray-900 p-4 border-t border-gray-800",children:(0,t.jsx)("audio",{controls:!0,ref:ei,src:Q,className:"w-full"})})]})}},823:(e,s,r)=>{Promise.resolve().then(r.bind(r,64))},3168:(e,s,r)=>{"use strict";r.d(s,{ny:()=>l});var t=r(851);r(9509),(0,t.UU)("https://cgggsudeipsyfcszouil.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ2dzdWRlaXBzeWZjc3pvdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4NTAzMDQsImV4cCI6MjA2MDQyNjMwNH0.rKNpG-VLYRYW5L9E3N0vWN_6mFzgNsafXxuI-bxrww4");let a=null;function l(){if(!a){let e="https://cgggsudeipsyfcszouil.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ2dzdWRlaXBzeWZjc3pvdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4NTAzMDQsImV4cCI6MjA2MDQyNjMwNH0.rKNpG-VLYRYW5L9E3N0vWN_6mFzgNsafXxuI-bxrww4";e&&s||console.warn("Missing Supabase credentials"),a=(0,t.UU)(e,s,{auth:{persistSession:!0,autoRefreshToken:!0}})}return a}}},e=>{var s=s=>e(e.s=s);e.O(0,[263,815,191,441,684,358],()=>s(823)),_N_E=e.O()}]);