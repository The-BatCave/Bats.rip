(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{2919:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(9946).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3168:(e,t,l)=>{"use strict";l.d(t,{ny:()=>a});var r=l(851);l(9509),(0,r.UU)("https://cgggsudeipsyfcszouil.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ2dzdWRlaXBzeWZjc3pvdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4NTAzMDQsImV4cCI6MjA2MDQyNjMwNH0.rKNpG-VLYRYW5L9E3N0vWN_6mFzgNsafXxuI-bxrww4");let s=null;function a(){return s||(s=(0,r.UU)("https://cgggsudeipsyfcszouil.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ2dzdWRlaXBzeWZjc3pvdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4NTAzMDQsImV4cCI6MjA2MDQyNjMwNH0.rKNpG-VLYRYW5L9E3N0vWN_6mFzgNsafXxuI-bxrww4",{auth:{persistSession:!0,autoRefreshToken:!0}})),s}},4117:(e,t,l)=>{Promise.resolve().then(l.bind(l,4519))},4519:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>z});var r=l(5155),s=l(2115),a=l(5695),i=l(6766),c=l(3168),n=l(9946);let o=(0,n.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var u=l(3904);let d=(0,n.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=l(2919),h=l(8175),p=l(883),f=l(2645);let x=(0,n.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=(0,n.A)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),b=(0,n.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),y=(0,n.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var w=l(227);let v=(0,n.A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),k=(0,n.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),_=(0,n.A)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var j=l(6565);let N=[{id:"9bc522da-2723-4e71-a4d1-781d791ca1fd",username:"arkham",display_name:"arkham",avatar_url:null,background_image:null,description:" ",twitter_url:"https://twitter.com/arkxham_",twitch_url:"https://bats.rip",github_url:"https://github.com/arkxham",steam_url:"https://steamcommunity.com/id/arkxham/"},{id:"f82a2a4c-82f3-4e6e-be73-743f2eb83447",username:"Trystin",display_name:"Trystin",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/Trystin002",twitch_url:"https://twitch.tv/y0imTrystin",github_url:"https://github.com/80dropz",steam_url:"https://steamcommunity.com/id/trystin/"},{id:"18d38ba4-f85f-4763-98a2-d433b2b46344",username:"Scorpy",display_name:"Scorpy",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/ScorpyL2",twitch_url:"https://twitch.tv/ScorpyL2",github_url:"https://github.com/80dropz",steam_url:"https://steamcommunity.com/id/scorpy/"},{id:"7306d120-20c9-4db9-8673-91402084f42e",username:"Gekk",display_name:"Gekk",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/GEKKSKI",twitch_url:"https://twitch.tv/gekk",github_url:"https://github.com/gekk",steam_url:"https://steamcommunity.com/id/gekk-"},{id:"12b49464-de99-40f6-b869-a21a8cfc0d11",username:"Slos",display_name:"Slos",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/slosgpx",twitch_url:"https://twitch.tv/sl0s",github_url:"https://github.com/80dropz",steam_url:"https://steamcommunity.com/id/slosgpx/"},{id:"75b11267-26c3-4ae2-82bb-bd6ace06dbcd",username:"Said",display_name:"Said",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/_saidd1",twitch_url:"https://twitch.tv/said1",github_url:"https://github.com/80dropz",steam_url:"https://steamcommunity.com/id/said3q/"},{id:"5688fe08-2150-49f5-ae25-1c35528a8fd1",username:"N333mo",display_name:"N333mo",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/n333mo_",twitch_url:"https://twitch.tv/n333mo_",github_url:"https://github.com/n333mo",steam_url:"https://steamcommunity.com/id/n333mo/"},{id:"481ca4c5-d885-4aee-be2d-2bcc38f9061c",username:"Mocha",display_name:"Mocha",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/MochaFNBR",twitch_url:"https://twitch.tv/1m0cha",github_url:"https://github.com/80dropz",steam_url:"https://steamcommunity.com/id/mochafn/"},{id:"5ff14b37-907e-4f88-a3ec-8bd7c858f118",username:"Clipzy",display_name:"Clipzy",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/clpzy",twitch_url:"https://twitch.tv/clipzy",github_url:"https://github.com/clipzy",steam_url:"https://steamcommunity.com/id/8cs/"},{id:"38a65afc-6bf4-402b-994f-b7a34130cb7d",username:"Jack",display_name:"Jack",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/UpdateStable",twitch_url:"https://twitch.tv/freedm_",github_url:"https://github.com/jack",steam_url:"https://steamcommunity.com/id/freedm_/"},{id:"b7b311bd-9260-45ef-afb7-fe06f7aa52ad",username:"Junz",display_name:"Junz",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/Junzlol_",twitch_url:"https://twitch.tv/junzioi",github_url:"https://github.com/80dropz",steam_url:"https://steamcommunity.com/profiles/76561199119147695"},{id:"ec7c47c8-19c6-4fe4-9448-85036cc14746",username:"Outlaw",display_name:"Outlaw",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/akaoutlaw",twitch_url:"https://twitch.tv/akaoutlaw",github_url:"https://github.com/arkxham",steam_url:"https://steamcommunity.com/profiles/76561199189690553"},{id:"4220428f-b980-4a1f-92bb-4422589f1066",username:"Lydell",display_name:"Lydell",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/lydeli",twitch_url:"https://twitch.tv/lydeli",github_url:"https://github.com/80dropz",steam_url:"https://steamcommunity.com/id/8inchDeli/"},{id:"0d69999e-11f1-41d0-b625-58445a06c63c",username:"rtmonly",display_name:"rtmonly",avatar_url:null,background_image:null,description:"",twitter_url:"https://twitter.com/rtmonly",twitch_url:"https://twitch.tv/rtmonly",github_url:"https://github.com/rtmonly",steam_url:"https://steamcommunity.com/id/rtmonly/"}];function z(){let[e,t]=(0,s.useState)(N),[l,n]=(0,s.useState)(N[0]),[z,I]=(0,s.useState)(new Date),[S,C]=(0,s.useState)(!1),[A,M]=(0,s.useState)(!1),[U,E]=(0,s.useState)({}),[J,L]=(0,s.useState)({}),[D,W]=(0,s.useState)({}),[R,T]=(0,s.useState)(null),[V,X]=(0,s.useState)(!1),[O,Q]=(0,s.useState)({}),Z=(0,s.useRef)(null),F=(0,a.useRouter)();(0,c.ny)();let[G,H]=(0,s.useState)(!1),[Y,q]=(0,s.useState)(20),[P,K]=(0,s.useState)("dark"),[B,$]=(0,s.useState)(!0),[ee,et]=(0,s.useState)(!0);(0,s.useEffect)(()=>{Z.current&&(Z.current.volume=Y/100)},[Y]);let el=async()=>{X(!0);try{let t={},r={},s={},a={};for(let i of e)try{let e=await (0,j.r)(i.id);if(e.success&&e.files){if(a[i.id]=e.files,e.files["profile-picture"]&&e.files["profile-picture"].length>0){let l=e.files["profile-picture"].find(e=>e.name.startsWith("pic."));l&&(t[i.id]=l.publicUrl)}if(e.files.backgrounds&&e.files.backgrounds.length>0){let t=e.files.backgrounds.find(e=>e.name.startsWith("bg."));t&&(r[i.id]=t.publicUrl)}if(e.files.songs&&e.files.songs.length>0){let t=e.files.songs.find(e=>e.name.startsWith("song"));if(t&&(s[i.id]=t.publicUrl,l&&i.id===l.id)){if(T(t.name.replace(/^song-/,"").replace(/\.[^/.]+$/,"")),Z.current)Z.current.src=t.publicUrl,S&&Z.current.play().catch(e=>console.log("Could not autoplay:",e));else{let e=new Audio(t.publicUrl);e.volume=.2,Z.current=e,S&&e.play().catch(e=>console.log("Could not autoplay:",e))}}}}}catch(e){console.error("Error fetching files for user ".concat(i.id,":"),e)}if(Q(a),E(t),L(r),W(s),l&&s[l.id]&&!Z.current){let e=new Audio(s[l.id]);if(e.volume=.2,Z.current=e,a[l.id]&&a[l.id].songs){let e=a[l.id].songs.find(e=>e.publicUrl===s[l.id]);e&&T(e.name.replace(/^song-/,"").replace(/\.[^/.]+$/,""))}e.play().catch(e=>console.log("Could not autoplay:",e)),C(!0)}}catch(e){console.error("Error fetching user files:",e)}finally{X(!1)}};(0,s.useEffect)(()=>{el()},[]),(0,s.useEffect)(()=>{let e=setInterval(()=>{I(new Date)},1e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{Z.current&&(S?Z.current.play().catch(e=>console.log("Could not play:",e)):Z.current.pause())},[S]),(0,s.useEffect)(()=>{Z.current&&(Z.current.muted=A)},[A]);let er=e=>{n(e);let t=new Audio("/batcomputer-access.mp3");t.volume=.2;try{t.play()}catch(e){console.log("Audio couldn't play automatically")}if(D[e.id]){if(Z.current){if(Z.current.src=D[e.id],O[e.id]&&O[e.id].songs){let t=O[e.id].songs.find(t=>t.publicUrl===D[e.id]);t&&T(t.name.replace(/^song-/,"").replace(/\.[^/.]+$/,""))}ee&&(Z.current.play().catch(e=>console.log("Could not autoplay:",e)),C(!0))}else{let t=new Audio(D[e.id]);if(t.volume=Y/100,Z.current=t,O[e.id]&&O[e.id].songs){let t=O[e.id].songs.find(t=>t.publicUrl===D[e.id]);t&&T(t.name.replace(/^song-/,"").replace(/\.[^/.]+$/,""))}ee&&(t.play().catch(e=>console.log("Could not autoplay:",e)),C(!0))}}else T(null),Z.current&&(Z.current.pause(),Z.current.src="",C(!1))},es=e=>{e&&window.open(e,"_blank","noopener,noreferrer")},ea=e=>U[e]||"https://th.bing.com/th/id/OIP.t8GsH1Q3v-NLfvTKIHIc3QHaHa?w=199&h=199&c=7&r=0&o=5&pid=1.7",ei=J[null==l?void 0:l.id]||null;return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white flex flex-col",style:{backgroundImage:ei?"url(".concat(ei,")"):"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[(0,r.jsx)("div",{className:"bg-black/80 p-1 border-b border-gray-800 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-screen-xl mx-auto",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2 min-w-[180px]",children:B&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{className:"h-4 w-4 text-yellow-500"}),(0,r.jsx)("div",{className:"text-sm font-mono",children:z.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})}),(0,r.jsx)("div",{className:"flex-1 flex justify-center",children:(0,r.jsx)("div",{className:"overflow-x-auto scrollbar-thin",children:(0,r.jsx)("div",{className:"flex items-center space-x-3 py-1 px-2 min-w-max",children:e.map(e=>(0,r.jsxs)("div",{onClick:()=>er(e),className:"flex flex-col items-center cursor-pointer transition-all ".concat((null==l?void 0:l.id)===e.id?"scale-110 text-yellow-400":"text-gray-400 hover:text-gray-200"),children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 ".concat((null==l?void 0:l.id)===e.id?"border-yellow-400":"border-transparent"),children:(0,r.jsx)(i.default,{src:ea(e.id)||"/placeholder.svg",alt:e.username,width:40,height:40,className:"object-cover w-full h-full",unoptimized:!0})}),(0,r.jsx)("span",{className:"text-xs mt-1 font-medium",children:e.username})]},e.id))})})}),(0,r.jsx)("div",{className:"min-w-[180px] flex justify-end",children:(0,r.jsx)("button",{onClick:el,disabled:V,className:"text-yellow-500 hover:text-yellow-400 flex items-center",title:"Refresh Images",children:(0,r.jsx)(u.A,{className:"h-5 w-5 ".concat(V?"animate-spin":"")})})})]})})}),(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsxs)("div",{className:"w-24 bg-black/70 border-r border-gray-800 flex flex-col items-center py-4 space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center cursor-pointer hover:text-yellow-400 transition-colors",onClick:()=>{H(!G)},children:[(0,r.jsx)(d,{className:"text-gray-400 w-8 h-8"}),(0,r.jsx)("span",{className:"text-xs mt-1",children:"Settings"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center cursor-pointer hover:text-yellow-400 transition-colors",onClick:()=>{F.push("/admin/dashboard")},children:[(0,r.jsx)(m.A,{className:"text-yellow-500 w-8 h-8"}),(0,r.jsx)("span",{className:"text-xs mt-1",children:"Admin"})]})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-black/60 p-6 rounded-lg max-w-md w-full text-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden mb-4 border-2 border-yellow-500/50",children:(0,r.jsx)(i.default,{src:ea(null==l?void 0:l.id)||"/placeholder.svg",alt:(null==l?void 0:l.username)||"User",width:80,height:80,className:"object-cover w-full h-full",unoptimized:!0})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-yellow-400",children:(null==l?void 0:l.display_name)||(null==l?void 0:l.username)})]}),(0,r.jsx)("p",{className:"text-gray-300 mb-8 text-lg",children:null==l?void 0:l.description}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 mb-6",children:[(0,r.jsxs)("button",{onClick:()=>es(null==l?void 0:l.twitter_url),className:"flex items-center space-x-2 px-4 py-3 rounded-md transition-colors ".concat((null==l?void 0:l.twitter_url)?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"),disabled:!(null==l?void 0:l.twitter_url),children:[(0,r.jsx)(h.A,{size:20}),(0,r.jsx)("span",{children:"Twitter"})]}),(0,r.jsxs)("button",{onClick:()=>es(null==l?void 0:l.twitch_url),className:"flex items-center space-x-2 px-4 py-3 rounded-md transition-colors ".concat((null==l?void 0:l.twitch_url)?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"),disabled:!(null==l?void 0:l.twitch_url),children:[(0,r.jsx)(p.A,{size:20}),(0,r.jsx)("span",{children:"Twitch"})]}),(0,r.jsxs)("button",{onClick:()=>es(null==l?void 0:l.steam_url),className:"flex items-center space-x-2 px-4 py-3 rounded-md transition-colors ".concat((null==l?void 0:l.steam_url)?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"),disabled:!(null==l?void 0:l.steam_url),children:[(0,r.jsx)(f.A,{size:20}),(0,r.jsx)("span",{children:"Steam"})]})]})]})})]}),G&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full border border-gray-700 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-yellow-400",children:"Settings"}),(0,r.jsx)("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-white",children:(0,r.jsx)(x,{size:20})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"text-sm font-medium flex items-center",children:[(0,r.jsx)(g,{className:"mr-2 h-4 w-4"}),"Volume"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-400",children:[Y,"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:Y,onChange:e=>{let t=Number.parseInt(e.target.value);q(t),Z.current&&(Z.current.volume=t/100)},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"text-sm font-medium flex items-center",children:["dark"===P?(0,r.jsx)(b,{className:"mr-2 h-4 w-4"}):(0,r.jsx)(y,{className:"mr-2 h-4 w-4"}),"Theme"]}),(0,r.jsx)("button",{onClick:()=>{K("dark"===P?"light":"dark")},className:"px-3 py-1 rounded-full text-xs ".concat("dark"===P?"bg-gray-700 text-gray-300":"bg-yellow-500 text-black"),children:"dark"===P?"Dark Mode":"Light Mode"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"text-sm font-medium flex items-center",children:[(0,r.jsx)(o,{className:"mr-2 h-4 w-4"}),"Show Clock"]}),(0,r.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:B,onChange:()=>$(!B),className:"sr-only peer"}),(0,r.jsx)("div",{className:"relative w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-500"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"text-sm font-medium flex items-center",children:[(0,r.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Auto-play Music"]}),(0,r.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:ee,onChange:()=>et(!ee),className:"sr-only peer"}),(0,r.jsx)("div",{className:"relative w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-500"})]})]})]})]})}),(0,r.jsx)("div",{className:"bg-black/80 border-t border-gray-800 p-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("button",{className:"bg-gray-800 hover:bg-gray-700 px-4 py-1 rounded flex items-center space-x-2",children:(0,r.jsx)("span",{className:"text-yellow-500 font-bold",children:"Start"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"bg-gray-800 px-3 py-1 rounded flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{C(!S)},className:"text-white hover:text-yellow-400",children:S?(0,r.jsx)(v,{size:16}):(0,r.jsx)(k,{size:16})}),(0,r.jsx)("button",{onClick:()=>{M(!A)},className:"text-white hover:text-yellow-400 ml-2",children:A?(0,r.jsx)(_,{size:16}):(0,r.jsx)(g,{size:16})}),(0,r.jsx)("span",{className:"text-xs",children:R||"No song available"})]}),(0,r.jsxs)("div",{className:"px-4 flex items-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full overflow-hidden mr-2",children:(0,r.jsx)(i.default,{src:ea(null==l?void 0:l.id)||"/placeholder.svg",alt:(null==l?void 0:l.username)||"User",width:24,height:24,className:"object-cover w-full h-full",unoptimized:!0})}),null==l?void 0:l.username]})]})]})})]})}},6565:(e,t,l)=>{"use strict";l.d(t,{Q:()=>a,r:()=>s});var r=l(3168);async function s(e){try{if(!e)return{success:!1,error:"User ID is required"};let t=(0,r.ny)(),l={},s=Date.now();for(let r of["profile-picture","backgrounds","songs"])try{let{data:a,error:i}=await t.storage.from(r).list(e);if(i){console.error("Error listing files in ".concat(r,":"),i);continue}let c=a.map(l=>{let a="".concat(e,"/").concat(l.name),{data:i}=t.storage.from(r).getPublicUrl(a);return{...l,publicUrl:"".concat(i.publicUrl,"?t=").concat(s),path:a,bucket:r}});l[r]=c}catch(e){console.error("Error getting files from ".concat(r,":"),e.message)}return{success:!0,files:l}}catch(e){return console.error("Error fetching user files:",e),{success:!1,error:e.message}}}async function a(e,t,l,s){try{if(!e)return{success:!1,error:"No file provided"};if(!t)return{success:!1,error:"No bucket specified"};if(!l)return{success:!1,error:"No user ID specified"};let a=(0,r.ny)();try{console.log("Checking for existing files in ".concat(t,"/").concat(l));let{data:e,error:r}=await a.storage.from(t).list(l);if(r)console.error("Error listing files in ".concat(t,"/").concat(l,":"),r);else if(e&&e.length>0){console.log("Found ".concat(e.length," existing files to delete"));let r=e.filter(e=>"backgrounds"===t||"songs"===t||!!("profile-picture"===t&&s.startsWith("pic."))&&e.name.startsWith("pic.")).map(e=>"".concat(l,"/").concat(e.name));if(r.length>0){console.log("Deleting ".concat(r.length," files:"),r);let{error:e}=await a.storage.from(t).remove(r);e?console.error("Error deleting files from ".concat(t,":"),e):console.log("Successfully deleted ".concat(r.length," files from ").concat(t))}}}catch(e){console.error("Error handling existing files in ".concat(t,":"),e)}let i="".concat(l,"/").concat(s);console.log("Uploading to path: ".concat(i," in bucket: ").concat(t));let{data:c,error:n}=await a.storage.from(t).upload(i,e,{upsert:!0,cacheControl:"0"});if(n)return console.error("Upload error:",n),{success:!1,error:n.message};let{data:{publicUrl:o}}=a.storage.from(t).getPublicUrl(i);console.log("Upload successful, public URL:",o);let u="".concat(o,"?t=").concat(Date.now());return{success:!0,url:u,path:(null==c?void 0:c.path)||i}}catch(e){return console.error("Upload error:",e),{success:!1,error:e.message}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[294,829,441,684,358],()=>t(4117)),_N_E=e.O()}]);